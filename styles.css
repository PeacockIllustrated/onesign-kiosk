/* Safe areas & sizing */
:root{
  --panel-radius: 36px;
  --panel-padding: clamp(2.4rem, 6vw, 3.5rem);
  --gutter-x: clamp(2.2rem, 6vw, 3.5rem);
  --gutter-bottom: clamp(8.5rem, 22vw, 11rem);
  --touch: 52px;
  --rhythm: 12px;
}

html, body {
  height: 100%;
  overflow: hidden; /* prevent global scroll */
}

#viewport {
  height: 100dvh;
}

body {
  font-family: 'Inter', sans-serif;
  background: #f5f5f5;
  color: #111;
  text-transform: none;
  font-weight: 600;
  font-size: clamp(15px, 3.6vw, 16px);
  letter-spacing: 0.01em;
  margin: 0;
}

/* Slide panels */
.panel {
  position: absolute;
  inset: 0;
  transition: transform .3s ease-out;
  will-change: transform;
  margin: 0;
  padding: calc(env(safe-area-inset-top) + var(--panel-padding)) var(--panel-padding) calc(env(safe-area-inset-bottom) + var(--panel-padding));
  border-radius: 0;
  background: #f5f5f5;
  border: none;
  box-shadow: none;
  box-sizing: border-box;
  overflow: hidden;
  display: grid;
  grid-template-rows: auto 1fr auto;
  align-content: center;
  justify-items: center;
  text-align: center;
  gap: clamp(2rem, 6vw, 3rem);
}

#letters.panel {
  padding: 0;
  display: block;
}

/* Tiles */
.tile {
  border: none;
  border-radius: 32px;
  background: #1f1f1f;
  color: #f5f5f5;
  box-shadow: 0 14px 26px rgba(0,0,0,0.24);
  transition: transform .18s ease, box-shadow .24s ease, background .24s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: clamp(.35rem, 2vw, .6rem);
  text-align: center;
  padding: clamp(1.4rem, 4vw, 1.75rem);
  font-size: clamp(1.1rem, 3.8vw, 1.35rem);
  line-height: 1.1;
  text-transform: lowercase;
  letter-spacing: 0.02em;
  cursor: pointer;
  aspect-ratio: 1 / 1;
  width: 100%;
}
.tile span { display: inline-block; }
.tile:hover { box-shadow: 0 18px 36px rgba(0,0,0,0.28); transform: translateY(-3px); }
.tile:active { transform: translateY(0); }
.tile:focus { outline: 2px solid rgba(255,255,255,0.3); outline-offset: 3px; }
.tile-active {
  background: #0f0f0f !important;
  box-shadow: 0 20px 42px rgba(0,0,0,0.32);
  transform: translateY(-4px);
}
.tile-label {
  font-size: 1em;
}
.tile-note {
  display: block;
  font-size: clamp(.9rem, 3.2vw, 1rem);
  font-weight: 500;
  letter-spacing: 0;
  text-transform: none;
  opacity: .72;
}
.tile--stack {
  font-size: clamp(1.3rem, 5vw, 1.6rem);
}
.tile--info {
  background: #ffffff;
  color: #111;
  border: 2px dashed rgba(17,17,17,0.22);
  box-shadow: none;
  cursor: default;
  text-transform: none;
  align-items: flex-start;
  justify-content: flex-start;
  gap: clamp(.75rem, 2.2vw, 1rem);
  padding: clamp(1.6rem, 4.4vw, 2.2rem);
}
.tile--info__title {
  font-size: clamp(1.1rem, 3.4vw, 1.3rem);
  text-transform: none;
  letter-spacing: 0;
}
.tile--info__lead {
  font-size: clamp(.95rem, 3.2vw, 1.1rem);
  line-height: 1.4;
  opacity: .82;
  text-transform: none;
}
.tile--info__note {
  font-size: clamp(.85rem, 3vw, 1rem);
  line-height: 1.4;
  opacity: .65;
  text-transform: none;
}
.tile--input {
  background: #f1f1f1;
  color: #111;
  border: 2px dashed rgba(0,0,0,0.25);
  box-shadow: none;
  cursor: default;
  aspect-ratio: auto;
}
.tile--input-stretch {
  height: 100%;
  display: flex;
}
.tile--input:focus-within {
  border-color: rgba(0,0,0,0.45);
  background: #fff;
  box-shadow: 0 18px 36px rgba(0,0,0,0.15);
}
.tile-input {
  width: 100%;
  height: 100%;
  background: transparent;
  border: none;
  text-align: center;
  font-size: clamp(1.1rem, 4vw, 1.4rem);
  font-weight: 600;
  color: #111;
  outline: none;
  text-transform: lowercase;
}
.tile-input::placeholder { color: rgba(17,17,17,0.45); }
.tile--input .tile-input {
  padding: 0;
}

/* Panel headings */
.panel-header {
  display: flex;
  flex-direction: column;
  gap: clamp(.3rem, 1.2vw, .6rem);
  text-transform: lowercase;
  align-items: center;
}
.panel-eyebrow {
  text-transform: uppercase;
  font-size: clamp(.65rem, 2vw, .8rem);
  letter-spacing: .34em;
  color: #7d7d7d;
  font-weight: 700;
}
.panel-title {
  font-weight: 800;
  font-size: clamp(2.4rem, 9vw, 3.4rem);
  letter-spacing: -0.02em;
  text-transform: lowercase;
}
h1.panel-title {
  font-size: clamp(2.8rem, 11vw, 3.8rem);
}

/* Panel structure */
.panel-header,
.panel-body,
.panel-footer {
  width: min(640px, 100%);
  margin: 0 auto;
}

.panel-body {
  display: flex;
  align-items: center;
  justify-content: center;
}

.panel-grid {
  width: 100%;
  max-width: clamp(20rem, 85vw, 30rem);
  margin: 0 auto;
  display: grid;
  gap: clamp(1.2rem, 4vw, 1.8rem);
  justify-items: stretch;
}

.panel-grid--two { grid-template-columns: repeat(2, minmax(8.5rem, 1fr)); }
.panel-grid--stack { grid-template-columns: minmax(14rem, 1fr); }
.panel-footer {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(1.5rem, 4vw, 2rem);
}

.panel-dots {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(.6rem, 2vw, .85rem);
}

.panel-dots .dot,
#dots button,
.dot-indicator {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: rgba(17,17,17,0.25);
  border: none;
  transition: transform .2s ease, background .2s ease;
}

.panel-dots .dot.dot--active,
#dots button[aria-selected="true"],
.dot-indicator.dot-indicator--active {
  background: #111;
  transform: scale(1.25);
}

.panel-dots .dot { pointer-events: none; }

#dots {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: clamp(.6rem, 2vw, .85rem);
}

.circle-btn {
  width: 3.4rem;
  height: 3.4rem;
  border-radius: 999px;
  background: #111;
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 18px 36px rgba(0,0,0,0.24);
  transition: transform .15s ease, box-shadow .2s ease, background .2s ease, color .2s ease;
}

.circle-btn:focus { outline: 2px solid rgba(255,255,255,0.35); outline-offset: 3px; }
.circle-btn:hover { transform: translateY(-2px); box-shadow: 0 24px 48px rgba(0,0,0,0.3); }
.circle-btn:active { transform: translateY(0); }
.circle-btn[disabled] { opacity: .75; pointer-events: none; }
.circle-btn[disabled] svg { opacity: 0.95; }

.circle-btn--ghost {
  background: transparent;
  color: #111;
  border: 2px solid #111;
  box-shadow: none;
}

/* Centred slide content */
.slide {
  width: 100vw;
  min-width: 100vw; /* prevent flex shrinking */
  flex-shrink: 0; /* prevent flex shrinking in horizontal container */
  height:100%;
  padding: calc(env(safe-area-inset-top) + var(--panel-padding)) var(--gutter-x) calc(var(--gutter-bottom) + env(safe-area-inset-bottom)) var(--gutter-x);
  display:flex; 
  flex-direction:column; 
  overflow: hidden; /* prevent background/page scroll */
}
.slide-center{
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center; /* grid centred vertically and horizontally */
  overflow: visible;
}

/* Scrollable wrapper for grids/inputs when content exceeds viewport */
.slide-scroll {
  max-height: 100%;
  overflow-y: auto;
  overflow-x: visible;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  width: 100%;
}

.panel-grid {
  overflow: visible;
}


.tile--sizing {
  font-size: clamp(1.05rem, 3.4vw, 1.25rem);
}

.tile--sizing .tile-note {
  font-size: clamp(1rem, 3.6vw, 1.2rem);
}

/* Subtle scrollbar that matches monochrome */
.slide-scroll::-webkit-scrollbar { 
  width: 6px; 
}
.slide-scroll::-webkit-scrollbar-thumb { 
  background: rgba(0,0,0,.35); 
  border-radius: 999px; 
}
.slide-scroll::-webkit-scrollbar-track { 
  background: transparent; 
}

/* Letters track (full height; each .slide handles bottom padding) */
#lwrap{
  height: 100%;
  width: 700vw !important; /* 7 slides Ã— 100vw each - override Tailwind inset-0 width constraint */
  display: flex; /* horizontal layout for slides */
  flex-direction: row; /* explicitly set horizontal direction */
  left: 0; /* maintain absolute positioning from inset-0 */
  top: 0;
}

.letters-footer {
  position: absolute;
  left: 0;
  right: 0;
  bottom: calc(env(safe-area-inset-bottom) + clamp(2rem, 6vw, 3rem));
  padding: 0 clamp(2.2rem, 6vw, 3.4rem);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: clamp(1.5rem, 5vw, 2.5rem);
}

/* Motion safe */
@media (prefers-reduced-motion: reduce) {
  .panel { transition: none !important; }
  #lwrap { transition: none !important; }
  .tile, button { transition: none !important; }
}

/* Touch targets & typography */
button, input {
  font-weight: 600;
  text-transform: none;
}
button {
  min-height: var(--touch);
  min-width: var(--touch);
  cursor: pointer;
}
button:focus {
  outline: 2px solid rgba(17,17,17,0.4);
  outline-offset: 3px;
}
button[disabled] {
  cursor: not-allowed;
}

/* Progress dots accessibility */
#dots button[role="tab"] {
  cursor: pointer;
  padding: 6px;
  background: transparent;
}
#dots button[role="tab"]:focus {
  outline: 2px solid rgba(17,17,17,0.45);
  outline-offset: 4px;
  border-radius: 999px;
}
#dots button[role="tab"][disabled] {
  cursor: not-allowed;
  opacity: .35;
}
